BEGIN TRANSACTION;
CREATE TABLE "disks" (
	"UUID"	TEXT NOT NULL UNIQUE,
	"DiskSize"	INTEGER NOT NULL,
	"Label"	TEXT
);
INSERT INTO "disks" VALUES('4e151f61-b363-4d5f-aa7e-03c094ffc852',309047680,'');
CREATE TABLE "files" (
	"FileSize"	INTEGER NOT NULL,
	"SHA1"	TEXT NOT NULL,
	"EarliestDate"	INTEGER,
	"CanonicalName"	TEXT,
	"CanonicalType"	TEXT,
	"MediaType"	INTEGER,
	FOREIGN KEY("MediaType") REFERENCES "types"("ROWID") ON DELETE SET NULL
);
INSERT INTO "files" VALUES(3473408,'f8b1465e6340d11f2a28d26cf896e6427ab41f63',1.69441514166775488857e+09,'DSC06979 (copy)','JPG',NULL);
INSERT INTO "files" VALUES(1215763,'c81bb242e63bb1296fa1062fe5b3118f476193c9',1.6944151417117545604e+09,'DSC06979c','JPG',NULL);
INSERT INTO "files" VALUES(0,'da39a3ee5e6b4b0d3255bfef95601890afd80709',1.69552809833420276637e+09,'foo','txt',NULL);
INSERT INTO "files" VALUES(2902816,'db5da8c807516b52f961ea7df4abe8160943f619',1.69441514172775459286e+09,'DSC06979','JPG',NULL);
INSERT INTO "files" VALUES(2348583,'86463569661fe9bad6cfbd15e8cb8b5552d5fc90',1.69441514173575448988e+09,'IMG_0004','JPG',NULL);
INSERT INTO "files" VALUES(3242996,'f7131eaafe02290403d0c96837e69e99134749a2',1.69441514167575478554e+09,'IMG_0013','JPG',NULL);
INSERT INTO "files" VALUES(18,'956f4ca7fd5877604544213c6b66b33416ebfb3f',1.69552809833420276637e+09,'not_an_image','',NULL);
INSERT INTO "files" VALUES(16,'c19dfe09be521ccdf6957794128aef97c592baf6',1.69552809833420276637e+09,'not.an.image','txt',NULL);
INSERT INTO "files" VALUES(2479559,'7d81cd88335556e91c6cb35bb683cbb0a9b411fb',1.69441514167175483708e+09,'IMG_0004','JPG',NULL);
INSERT INTO "files" VALUES(239027,'db85197ec899df5cbd2a7fb28bf30a1b9875f2ed',1.6944151416477549076e+09,'6TB-2 benchmark 2018-08-25 20-58-29','png',NULL);
CREATE TABLE "fsrecords" (
	"Name"	TEXT NOT NULL,
	"ParentId"	INTEGER,
	"DiskId"	INTEGER NOT NULL,
	"FileDate"	INTEGER,
	"FileId"	INTEGER,
	"ParentPath"	TEXT,
	"SHA1ReadDate"	INTEGER,
	FOREIGN KEY("FileId") REFERENCES "files"("ROWID") ON DELETE CASCADE,
	FOREIGN KEY("DiskId") REFERENCES "disks"("ROWID") ON DELETE CASCADE,
	FOREIGN KEY("ParentId") REFERENCES "fsrecords"("ROWID") ON DELETE CASCADE
);
INSERT INTO "fsrecords" VALUES('',NULL,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('home',1,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('dimagolov',2,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('git',3,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('fileManager',4,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('test_data',5,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('storage',6,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('DSC06979 (copy).JPG',7,1,1.694415141691754818e+09,1,NULL,1.69553531115840482707e+09);
INSERT INTO "fsrecords" VALUES('DSC06979.JPG',7,1,1.69441514170775461194e+09,1,NULL,1.6955353111702458858e+09);
INSERT INTO "fsrecords" VALUES('DSC06979c.JPG',7,1,1.6944151417117545604e+09,2,NULL,1.69553531118104267123e+09);
INSERT INTO "fsrecords" VALUES('second_dir',7,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('foo.txt',11,1,1.69552809833420276637e+09,3,NULL,1.6955353111961815357e+09);
INSERT INTO "fsrecords" VALUES('tagged',7,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('DSC06979.JPG',13,1,1.69441514172775459286e+09,4,NULL,1.69553531121767163273e+09);
INSERT INTO "fsrecords" VALUES('IMG_0004.JPG',13,1,1.69441514173575448988e+09,5,NULL,1.69553531123182582855e+09);
INSERT INTO "fsrecords" VALUES('media',6,1,NULL,NULL,NULL,NULL);
INSERT INTO "fsrecords" VALUES('IMG_0013.JPG',16,1,1.69441514167575478554e+09,6,NULL,1.69553531125427246091e+09);
INSERT INTO "fsrecords" VALUES('DSC06979.JPG',16,1,1.69441514166775488857e+09,1,NULL,1.69553531127087092397e+09);
INSERT INTO "fsrecords" VALUES('not_an_image',16,1,1.69552809833420276637e+09,7,NULL,1.69553531128023481371e+09);
INSERT INTO "fsrecords" VALUES('not.an.image.txt',16,1,1.69552809833420276637e+09,8,NULL,1.6955353112895555496e+09);
INSERT INTO "fsrecords" VALUES('IMG_0004.JPG',16,1,1.69441514167175483708e+09,9,NULL,1.69553531130406641954e+09);
INSERT INTO "fsrecords" VALUES('6TB-2 benchmark 2018-08-25 20-58-29.png',16,1,1.6944151416477549076e+09,10,NULL,1.69553531131415629392e+09);
CREATE TABLE "types" (
	"name"	TEXT UNIQUE,
	"extensions"	TEXT UNIQUE
);
CREATE INDEX "file_size" ON "files" (
	"FileSize"	ASC
);
CREATE UNIQUE INDEX "file_sha1" ON "files" (
	"SHA1"	ASC
);
CREATE INDEX "file_date" ON "files" (
	"EarliestDate"	ASC
);
CREATE UNIQUE INDEX "disk_uuid" ON "disks" (
	"UUID"	ASC
);
CREATE INDEX "disk_size" ON "disks" (
	"DiskSize"	ASC
);
CREATE INDEX "parent_id" ON "fsrecords" (
	"ParentId"	ASC
);
CREATE TRIGGER `fsrecords_on_delete` AFTER DELETE ON `fsrecords` BEGIN
	DELETE FROM `fsrecords` WHERE `ParentId` = old.`ROWID`;
END;
COMMIT;
